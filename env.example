# ============================================
# SHOPIFY CONFIGURATION (Required)
# ============================================

# Get these from Shopify Partner Dashboard → Apps → [Your App]
SHOPIFY_API_KEY=your_api_key_here
SHOPIFY_API_SECRET=your_api_secret_here

# Scopes your app needs (comma-separated, no spaces)
SHOPIFY_SCOPES=read_customers,write_customers,read_orders,write_orders,read_products,write_products,read_inventory,write_inventory,read_locations,read_discounts,write_discounts,read_company_locations,read_fulfillments,write_fulfillments

# ============================================
# APP CONFIGURATION (Required)
# ============================================

# Your Railway/Heroku deployment URL (no trailing slash)
# Update this after first Railway deployment
APP_URL=https://your-app-name.up.railway.app

# Environment: development or production
NODE_ENV=production

# Port (Railway sets this automatically, leave blank for Railway)
# PORT=3000

# Admin password for protected /admin endpoints
# CHANGE THIS TO A SECURE PASSWORD
ADMIN_PASSWORD=change-this-to-secure-password

# ============================================
# BUBBLE.IO ENDPOINTS (Required)
# ============================================

# Main OAuth callback - where access tokens are sent
# Format: https://[your-app].bubble.is/version-test/api/1.1/wf/[workflow-name]
BUBBLE_API_ENDPOINT=https://d334.bubble.is/version-test/api/1.1/wf/store_shopify_token

# Success redirect - where merchants go after successful OAuth
BUBBLE_SUCCESS_URL=https://d334.bubble.is/version-test/shopify_dashboard

# Error redirect - where merchants go if OAuth fails
BUBBLE_ERROR_URL=https://d334.bubble.is/version-test/error

# ============================================
# GDPR COMPLIANCE WEBHOOKS (Required for App Store)
# ============================================

# Bubble workflow for customer data export requests
BUBBLE_GDPR_DATA_REQUEST=https://d334.bubble.is/version-test/api/1.1/wf/gdpr_data_request

# Bubble workflow for customer data deletion
BUBBLE_GDPR_CUSTOMER_REDACT=https://d334.bubble.is/version-test/api/1.1/wf/gdpr_customer_redact

# Bubble workflow for shop data deletion (when app uninstalled)
BUBBLE_GDPR_SHOP_REDACT=https://d334.bubble.is/version-test/api/1.1/wf/gdpr_shop_redact

# ============================================
# REDIS (Optional - Recommended for Production)
# ============================================

# Redis connection URL for persistent storage
# Railway: Add Redis database from dashboard, URL auto-injected
# Format: redis://default:password@host:port
# Leave blank to use in-memory storage (dev only)
# REDIS_URL=redis://default:your-password@redis-host.railway.internal:6379

# ============================================
# ADVANCED CONFIGURATION (Optional)
# ============================================

# Uncomment and modify if you need custom settings

# OAuth state expiry (milliseconds)
# STATE_EXPIRY_MS=300000

# Maximum webhook age (milliseconds) - prevents replay attacks
# MAX_WEBHOOK_AGE_MS=300000

# Request timeout (milliseconds)
# REQUEST_TIMEOUT_MS=30000

# Graceful shutdown timeout (milliseconds)
# GRACEFUL_SHUTDOWN_MS=10000

# ============================================
# NOTES
# ============================================

# 1. Never commit this file with real values
# 2. In Railway/Heroku, set these in the dashboard
# 3. All URLs should use HTTPS in production
# 4. SHOPIFY_API_SECRET is extremely sensitive - guard carefully
# 5. Test with development stores before production deployment
# 6. REDIS_URL will be auto-set by Railway when you add Redis
